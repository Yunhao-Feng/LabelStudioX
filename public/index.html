<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LabelStudioX - Image Annotation</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="branding">
        <div class="logo-circle">LX</div>
        <div>
          <h1>LabelStudioX</h1>
          <p class="subtitle">Define labels, draw bounding boxes, and save results to JSON.</p>
        </div>
      </div>
      <div class="image-info">
        <span id="image-counter">Images: 0</span>
        <span id="current-image">Current: None</span>
      </div>
    </header>

    <section class="setup">
      <div class="labels">
        <h2>Define Labels</h2>
        <div class="label-form">
          <input type="text" id="label-input" placeholder="Enter label name" />
          <button id="add-label">Add Label</button>
        </div>
        <div id="label-list" class="pill-row" aria-live="polite"></div>
        <p class="hint">You can add more labels while annotating. New labels will be available for future images.</p>
      </div>
      <div class="start">
        <button id="start-annotation" class="primary">Start Annotating</button>
        <p class="hint">Images are loaded from the <code>data</code> folder. Results are saved to <code>result/&lt;image&gt;.json</code>.</p>
      </div>
    </section>

    <section class="workspace">
      <div class="canvas-area">
        <div id="image-wrapper" class="image-wrapper">
          <img id="annotated-image" alt="Image to annotate" />
          <canvas id="draw-layer"></canvas>
        </div>
        <div class="controls">
          <button id="prev-image" class="ghost">Previous</button>
          <button id="save-annotations" class="primary">Save</button>
          <button id="next-image" class="primary">Save &amp; Next</button>
        </div>
        <div id="status" role="status" aria-live="polite"></div>
      </div>

      <aside class="sidebar">
        <div class="sidebar-section">
          <h3>Current Box</h3>
          <div id="box-stats" class="stats">
            <p>No box selected</p>
          </div>
        </div>
        <div class="sidebar-section">
          <h3>Boxes on Image</h3>
          <div id="boxes-list" class="boxes-list"></div>
        </div>
        <div class="sidebar-section">
          <h3>Add Label While Annotating</h3>
          <div class="label-form inline">
            <input type="text" id="inline-label-input" placeholder="New label" />
            <button id="inline-add-label">Add</button>
          </div>
        </div>
      </aside>
    </section>
  </div>
  <script src="/app.js"></script>
</body>
</html>
